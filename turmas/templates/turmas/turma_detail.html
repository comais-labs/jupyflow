{% extends 'base/base.html' %}

{% block titulo %} - Teste {% endblock titulo %}

{% block conteudo %}
<div class="container mt-3">
    <div class="border rounded p-3">
        <div class="py-2">
            <p style="font-size: 18px;" class="arimo-bold m-0">
                Turma {{ turma.nome_turma }} do curso {{ turma.nome_curso }}
            </p>
        </div>
        <div>
            <p style="font-size: 16px;" class="arimo-bold m-0">
                Tag do container:
            </p>
            {{ turma.container.nome_container }}
        </div>
        <div>
            <p style="font-size: 16px;" class="arimo-bold m-0">
                Porta do container:
            </p>
            {{ turma.container.porta }}
        </div>
        <div>
            <p style="font-size: 16px;" class="arimo-bold m-0">
                Status:
            </p>
            {% if turma.container.ativo %}
                <p class="text-success">Ativo</p>
            {% else %}
                <p class="text-danger">Inativo</p>
            {%  endif %}
        </div>
        <div class="d-flex justify-content-end mt-3">
            {% if not turma.container.ativo %}
                <form action="{% url 'turmas:subir_container' pk=turma.id %}" method="POST">
                {% csrf_token %}
                <input value="Subir container"
                       style="background-color:#00897B;font-weight:bold;"
                       class="btn text-white mx-3"
                       type="submit">
                </form>
            {% endif %}
            <a href="{% url 'turmas:aluno_criar' pk=turma.id %}"
               style="background-color:#00897B;font-weight:bold;"
               class="btn w-25 text-white mx-3">Adicionar Alunos</a>
            <a href="{% url 'turmas:editar' pk=turma.id %}"
               style="background-color:#00897B;font-weight:bold;"
               class="btn w-25 text-white mx-3">Editar Turma</a>
        </div>
    </div>
    <div class="border rounded p-3 my-3">
        <div style="font-size:18px;" class="arimo-bold mb-3">
            Alunos
        </div>
        {% for aluno in alunos %}
            <div class="d-flex justify-content-between">
                <div>
                    {{ aluno.nome }}
                </div>
                <div class="">
                    <a href="{% url 'turmas:aluno_editar' pk_turma=turma.id pk_aluno=aluno.id %}">Editar</a>
                </div>
            </div>
        {%  endfor %}
    </div>
    {% if not turma.container.ativo %}
    <div class="border rounded p-3 my-3">
        <div style="font-size:18px;" class="arimo-bold mb-3 text-danger">
            O container não está rodando
        </div>
        <div style="font-size:18px;" class="arimo-bold mb-3">
            Mensagem de erro:
        </div>
        <div style="background-color:#f0f0f0;" class="border rouded p-3 my-3">
            {{ ansible_log|linebreaksbr }}
        </div>
    </div>
    {% endif %}
</div>
{% endblock conteudo %}